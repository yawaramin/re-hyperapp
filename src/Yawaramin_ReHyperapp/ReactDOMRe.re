/** Hack to reuse Reason's built-in support for JSX. But it does mean
    that re-hyperapp and reason-react can't be used together (because of
    the conflicting modules). That's probably not not a problem in
    practice though.

    See
    {{:https://reasonml.github.io/reason-react/docs/en/jsx}https://reasonml.github.io/reason-react/docs/en/jsx}
    for a description of how the transform works. */

type element = Dom.element;
type vdom = Yawaramin_ReHyperapp.vdom;
type onDone = (. unit) => Js.Promise.t(unit);

/** The Reason JSX transform uses this to created uncapitalized DOM
    elements. */
[@bs.module "hyperapp"] [@bs.variadic]
external createElement: (string, ~props: Js.t({..})=?, array(vdom)) => vdom = "h";

/** All valid HTML attributes (that are legal identifiers in OCaml),
    using https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes as
    a reference. This is needed for uncapitalized elements support in JSX. */
[@bs.obj] external props: (
  /* HTML attributes:
     https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes */

  ~accept: string=?,
  ~accesskey: string=?,
  ~action: string=?,
  ~align: string=?,
  ~allow: string=?,
  ~alt: string=?,
  ~async: string=?,
  ~autocapitalize: string=?,
  ~autocomplete: string=?,
  ~autofocus: string=?,
  ~autoplay: string=?,
  ~bgcolor: string=?,
  ~border: string=?,
  ~buffered: string=?,
  ~challenge: string=?,
  ~charset: string=?,
  ~checked: string=?,
  ~cite: string=?,
  ~_class: string=?,
  ~code: string=?,
  ~codebase: string=?,
  ~color: string=?,
  ~cols: string=?,
  ~colspan: string=?,
  ~content: string=?,
  ~contenteditable: string=?,
  ~contextmenu: string=?,
  ~controls: string=?,
  ~coords: string=?,
  ~crossorigin: string=?,
  ~csp: string=?,
  ~data: string=?,
  ~datetime: string=?,
  ~decoding: string=?,
  ~default: string=?,
  ~defer: string=?,
  ~dir: string=?,
  ~dirname: string=?,
  ~disabled: string=?,
  ~download: string=?,
  ~draggable: string=?,
  ~dropzone: string=?,
  ~enctype: string=?,
  ~_for: string=?,
  ~form: string=?,
  ~formaction: string=?,
  ~headers: string=?,
  ~height: string=?,
  ~hidden: string=?,
  ~high: string=?,
  ~href: string=?,
  ~hreflang: string=?,
  ~icon: string=?,
  ~id: string=?,
  ~importance: string=?,
  ~integrity: string=?,
  ~ismap: string=?,
  ~itemprop: string=?,
  ~keytype: string=?,
  ~kind: string=?,
  ~label: string=?,
  ~lang: string=?,
  ~language: string=?,
  ~lazyload: string=?,
  ~list: string=?,
  ~loop: string=?,
  ~low: string=?,
  ~manifest: string=?,
  ~max: string=?,
  ~maxlength: string=?,
  ~minlength: string=?,
  ~media: string=?,
  ~method: string=?,
  ~min: string=?,
  ~multiple: string=?,
  ~muted: string=?,
  ~name: string=?,
  ~novalidate: string=?,
  ~_open: string=?,
  ~optimum: string=?,
  ~pattern: string=?,
  ~ping: string=?,
  ~placeholder: string=?,
  ~poster: string=?,
  ~preload: string=?,
  ~radiogroup: string=?,
  ~readonly: string=?,
  ~referrerpolicy: string=?,
  ~rel: string=?,
  ~required: string=?,
  ~reversed: string=?,
  ~role: string=?,
  ~rows: string=?,
  ~rowspan: string=?,
  ~sandbox: string=?,
  ~scope: string=?,
  ~scoped: string=?,
  ~selected: string=?,
  ~shape: string=?,
  ~size: string=?,
  ~sizes: string=?,
  ~slot: string=?,
  ~span: string=?,
  ~spellcheck: string=?,
  ~src: string=?,
  ~srcdoc: string=?,
  ~srclang: string=?,
  ~srcset: string=?,
  ~start: string=?,
  ~step: string=?,
  ~style: string=?,
  ~summary: string=?,
  ~tabindex: string=?,
  ~target: string=?,
  ~title: string=?,
  ~translate: string=?,
  ~_type: string=?,
  ~usemap: string=?,
  ~value: string=?,
  ~width: string=?,
  ~wrap: string=?,

  /* TODO: SVG attributes:
     https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute */

  /* DOM events: https://developer.mozilla.org/en-US/docs/Web/Events */

  ~oncached: (. 'cachedEvent) => 'state=?,
  ~onerror: (. 'errorEvent) => 'state=?,
  ~onbeforeunload: (. 'beforeunloadEvent) => 'state=?,
  ~onunload: (. 'unloadEvent) => 'state=?,
  ~ononline: (. 'onlineEvent) => 'state=?,
  ~onoffline: (. 'offlineEvent) => 'state=?,
  ~onfocus: (. 'focusEvent) => 'state=?,
  ~onblur: (. 'blurEvent) => 'state=?,
  ~onclose: (. 'closeEvent) => 'state=?,
  ~onpagehide: (. 'pagehideEvent) => 'state=?,
  ~onpageshow: (. 'pageshowEvent) => 'state=?,
  ~onpopstate: (. 'popstateEvent) => 'state=?,
  ~onanimationstart: (. 'animationstartEvent) => 'state=?,
  ~onanimationend: (. 'animationendEvent) => 'state=?,
  ~onanimationiteration: (. 'animationiterationEvent) => 'state=?,
  ~ontransitionstart: (. 'transitionstartEvent) => 'state=?,
  ~ontransitioncancel: (. 'transitioncancelEvent) => 'state=?,
  ~ontransitionend: (. 'transitionendEvent) => 'state=?,
  ~ontransitionrun: (. 'transitionrunEvent) => 'state=?,
  ~onreset: (. 'resetEvent) => 'state=?,
  ~onsubmit: (. 'submitEvent) => 'state=?,
  ~onbeforeprint: (. 'beforeprintEvent) => 'state=?,
  ~onafterprint: (. 'afterprintEvent) => 'state=?,
  ~oncompositionstart: (. 'compositionstartEvent) => 'state=?,
  ~oncompositionupdate: (. 'compositionupdateEvent) => 'state=?,
  ~oncompositionend: (. 'compositionendEvent) => 'state=?,
  ~onfullscreenchange: (. 'fullscreenchangeEvent) => 'state=?,
  ~onfullscreenerror: (. 'fullscreenerrorEvent) => 'state=?,
  ~onresize: (. 'resizeEvent) => 'state=?,
  ~onscroll: (. 'scrollEvent) => 'state=?,
  ~oncut: (. 'cutEvent) => 'state=?,
  ~oncopy: (. 'copyEvent) => 'state=?,
  ~onpaste: (. 'pasteEvent) => 'state=?,
  ~onkeydown: (. 'keydownEvent) => 'state=?,
  ~onkeypress: (. 'keypressEvent) => 'state=?,
  ~onkeyup: (. 'keyupEvent) => 'state=?,
  ~onauxclick: (. 'auxclickEvent) => 'state=?,
  ~onclick: (. 'clickEvent) => 'state=?,
  ~oncontextmenu: (. 'contextmenuEvent) => 'state=?,
  ~ondblclick: (. 'dblclickEvent) => 'state=?,
  ~onmousedown: (. 'mousedownEvent) => 'state=?,
  ~onmouseenter: (. 'mouseenterEvent) => 'state=?,
  ~onmouseleave: (. 'mouseleaveEvent) => 'state=?,
  ~onmousemove: (. 'mousemoveEvent) => 'state=?,
  ~onmouseover: (. 'mouseoverEvent) => 'state=?,
  ~onmouseout: (. 'mouseoutEvent) => 'state=?,
  ~onmouseup: (. 'mouseupEvent) => 'state=?,
  ~onpointerlockchange: (. 'pointerlockchangeEvent) => 'state=?,
  ~onpointerlockerror: (. 'pointerlockerrorEvent) => 'state=?,
  ~onselect: (. 'selectEvent) => 'state=?,
  ~onwheel: (. 'wheelEvent) => 'state=?,
  ~ondrag: (. 'dragEvent) => 'state=?,
  ~ondragend: (. 'dragendEvent) => 'state=?,
  ~ondragenter: (. 'dragenterEvent) => 'state=?,
  ~ondragstart: (. 'dragstartEvent) => 'state=?,
  ~ondragleave: (. 'dragleaveEvent) => 'state=?,
  ~ondragover: (. 'dragoverEvent) => 'state=?,
  ~ondrop: (. 'dropEvent) => 'state=?,
  ~onaudioprocess: (. 'audioprocessEvent) => 'state=?,
  ~oncanplay: (. 'canplayEvent) => 'state=?,
  ~oncanplaythrough: (. 'canplaythroughEvent) => 'state=?,
  ~oncomplete: (. 'completeEvent) => 'state=?,
  ~ondurationchange: (. 'durationchangeEvent) => 'state=?,
  ~onemptied: (. 'emptiedEvent) => 'state=?,
  ~onended: (. 'endedEvent) => 'state=?,
  ~onloadeddata: (. 'loadeddataEvent) => 'state=?,
  ~onloadedmetadata: (. 'loadedmetadataEvent) => 'state=?,
  ~onpause: (. 'pauseEvent) => 'state=?,
  ~onplay: (. 'playEvent) => 'state=?,
  ~onplaying: (. 'playingEvent) => 'state=?,
  ~onratechange: (. 'ratechangeEvent) => 'state=?,
  ~onseeked: (. 'seekedEvent) => 'state=?,
  ~onseeking: (. 'seekingEvent) => 'state=?,
  ~onstalled: (. 'stalledEvent) => 'state=?,
  ~onsuspend: (. 'suspendEvent) => 'state=?,
  ~ontimeupdate: (. 'timeupdateEvent) => 'state=?,
  ~onvolumechange: (. 'volumechangeEvent) => 'state=?,
  ~onwaiting: (. 'waitingEvent) => 'state=?,
  ~onabort: (. 'abortEvent) => 'state=?,
  ~onload: (. 'loadEvent) => 'state=?,
  ~onloadend: (. 'loadendEvent) => 'state=?,
  ~onloadstart: (. 'loadstartEvent) => 'state=?,
  ~onprogress: (. 'progressEvent) => 'state=?,
  ~ontimeout: (. 'timeoutEvent) => 'state=?,
  ~onchange: (. 'changeEvent) => 'state=?,
  ~onstorage: (. 'storageEvent) => 'state=?,
  ~onchecking: (. 'checkingEvent) => 'state=?,
  ~ondownloading: (. 'downloadingEvent) => 'state=?,
  ~onnoupdate: (. 'noupdateEvent) => 'state=?,
  ~onobsolete: (. 'obsoleteEvent) => 'state=?,
  ~onupdateready: (. 'updatereadyEvent) => 'state=?,
  ~onbroadcast: (. 'broadcastEvent) => 'state=?,
  ~onCheckboxStateChange: (. 'CheckboxStateChangeEvent) => 'state=?,
  ~onhashchange: (. 'hashchangeEvent) => 'state=?,
  ~oninput: (. 'inputEvent) => 'state=?,
  ~onRadioStateChange: (. 'RadioStateChangeEvent) => 'state=?,
  ~onreadystatechange: (. 'readystatechangeEvent) => 'state=?,
  ~onValueChange: (. 'ValueChangeEvent) => 'state=?,
  ~oninvalid: (. 'invalidEvent) => 'state=?,
  ~onlocalized: (. 'localizedEvent) => 'state=?,
  ~onmessage: (. 'messageEvent) => 'state=?,
  ~onopen: (. 'openEvent) => 'state=?,
  ~onshow: (. 'showEvent) => 'state=?,

  /* Hyperapp DOM lifecycle events:
     https://github.com/jorgebucaran/hyperapp#lifecycle-events */

  ~oncreate: (. element) => unit=?,
  ~onupdate: (. element, Js.t({..})) => unit=?,
  ~onremove: (. element, onDone) => unit=?,
  ~ondestroy: (. element) => unit=?,

  /* Hyperapp DOM node key: https://github.com/jorgebucaran/hyperapp#keys */

  ~key: string=?,

  unit,
) => _ = "";
